<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no" />
    <title>Hayden Library Geospatial Hub 3D Model</title>

    <link rel="stylesheet" href="https://js.arcgis.com/4.18/esri/themes/light/main.css" />
    <link href="https://unpkg.com/tabulator-tables@4.9.3/dist/css/tabulator.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tabulator/4.9.3/css/tabulator_midnight.min.css" integrity="sha512-epdhm+q+Caq67Ujjcr7kPkNsBoFtmyaqHFuujUjygZnnRVRK70X6dOjX3Z4RDJF+bmG1KBwYHJ/OxMZgm1F2hQ==" crossorigin="anonymous" />
    <!-- Load icon library -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="https://code.jquery.com/jquery-3.6.0.js" integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV" crossorigin="anonymous"></script>
    <script type="text/javascript" src="https://unpkg.com/tabulator-tables@4.9.3/dist/js/tabulator.min.js"></script>
    <script type="text/javascript" src="https://oss.sheetjs.com/sheetjs/xlsx.full.min.js"></script>
    <script src="https://js.arcgis.com/4.18/"></script>
    
    


    <style>
      body, html {
        font-family: 'Avenir Light', Verdana, Geneva, sans-serif;
        overflow-x: hidden;
      }

      html, body {
        margin: 0;
        padding: 0;
      }

      h1 {
        color: white;
        font-size: 20px;
      }


      .sidebar {
        background: #292929;

        margin-top: 56.5px;
         position: absolute;
    width: 33.3333%;
    height: 93%;
    top: 0;
    left: 0;
    overflow: hidden;
    border-right: 2px solid black;
  }
      
      #viewDiv {
        position: absolute;
        left: 33.3333%;
        width: 66.6666%;
        top: 0;
        bottom: 0;        
        padding: 0;
        margin-top: 56px;        
        
      }   

.navbar {
  height: 56.5px;  
}

.navbar-brand {
  padding: 0 15px;
  height: 40px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 20px;  
  
}

#searchtype {
  position: absolute;
  top: 70px;
  left: 645px;
  z-index: 2;
  width: 120px;
  border-radius: .25rem .0rem .0rem .25rem;
}

#searchtype:focus {
  box-shadow: 0px 0px 0px;
    border-color: #8c1d40;
    outline: 0px
}

.navbar-light .navbar-brand {
  color: white;
}
.bg-light {
  background: #292929 !important;
  border-bottom: solid 2px black;
}        

.container {
    position: absolute;
    width: 60%;
    top: 70px;
    left: 750px;
}

.btn:hover {
    color: #fff
}

.input-text:focus {
    box-shadow: 0px 0px 0px;
    border-color: #8c1d40;
    outline: 0px
}

.form-control {
    border: 1px solid  #8c1d40
    z-index: 999999999;
}

.btn-outline-warning {
  color: #fff;
  border-color: #8c1d40;
  background-color: #8c1d40;
}

.btn-outline-warning:hover {
  color: #fff;
  border-color: #D23153;
  background-color: #D23153;
}

#close {
  background-color: #8c1d40;
  border-color: #8c1d40;
}

.navbar-brand {
  position: absolute;       
  left: 0;        
}

#advancedBtn {
  background-color: #8c1d40;
  border-color: #8c1d40;
}
 
.btn-outline-success {
  display: inline-block;
  margin-left: 15px;
  color: #8c1d40;
  border-color: #8c1d40;
}

.btn-outline-success:hover {  
  background-color: #8c1d40;
  border-color: #8c1d40;  
}




    </style>

    <script>
      require(["esri/Map", "esri/views/SceneView", "esri/layers/FeatureLayer", "esri/layers/SceneLayer", "esri/tasks/support/Query"], function(
        Map,
        SceneView,
        FeatureLayer,
        SceneLayer,
        Query       
      ) {     
        // ** Styles for the 3D Layers ** //   
        // style for the Cabinets layer
        var cabRenderer = {
          type: "simple", // autocasts as new SimpleRenderer()
          symbol: {
            type: "polygon-3d",  // autocasts as new PolygonSymbol3D()
            symbolLayers: [{
              type: "extrude",   // autocasts as new ExtrudeSymbol3DLayer()
              size: 0.0762,        // Height of the extrusion in meters              
              material: { 
                color: "black" 
              },
              edges: {
                  type: "solid",
                  color: "#999",
                  size: 0.7
                },
            }]
          }
        }
        // style for the cabinets base layer  
         var cabBaseRenderer = {
          type: "simple", // autocasts as new SimpleRenderer()
          symbol: {
            type: "polygon-3d",  // autocasts as new PolygonSymbol3D()
            symbolLayers: [{
              type: "extrude",   // autocasts as new ExtrudeSymbol3DLayer()
              size: 0.12192,        // Height of the extrusion in meters              
              material: { 
                color: "black" 
              },
              edges: {
                  type: "solid",
                  color: "#999",
                  size: 0
                },
            }]
          }
        }

        // style for the front desk layer  
         var frontDeskRenderer = {
          type: "simple", // autocasts as new SimpleRenderer()
          symbol: {
            type: "polygon-3d",  // autocasts as new PolygonSymbol3D()
            symbolLayers: [{
              type: "extrude",   // autocasts as new ExtrudeSymbol3DLayer()
              size: 0.9144,        // Height of the extrusion in meters              
              material: { 
                color: "#F2DD9D" 
              },
              edges: {
                  type: "solid",
                  color: "#999",
                  size: 0
                },
            }]
          }
        }
        
        // style for the work station table  
        var workTableRenderer = {
          type: "simple", // autocasts as new SimpleRenderer()
          symbol: {
            type: "polygon-3d", // autocasts as new PolygonSymbol3D()
            symbolLayers: [{ type: "extrude" }] // autocasts as new ExtrudeSymbol3DLayer()
          },
          label: "Style for the work station",
          visualVariables: [
            {
              type: "size", // indicates this is a size visual variable
              field: "Height", // height of the feature      
              stops: [
                {
                  value: 0.23, // features meeting this value from height field
                  size: 0.067056 // will be extruded by this height in meters
                },
                {
                  value: 2.9, // features meeting this value from height field
                  size: 0.9144 // will be extruded by this height in meters
                }
              ]
            },
            {
              type: "color",
              field: "Height",      
              stops: [
                {
                  value: 0.22,
                  color: "white"
                },
                {
                  value: 3.0,
                  color: "#666666"
                }
              ]
            }
          ]
        };       

        // style for the square wooden table  
        var woodTableRenderer = {
          type: "simple", // autocasts as new SimpleRenderer()
          symbol: {
            type: "polygon-3d", // autocasts as new PolygonSymbol3D()
            symbolLayers: [{ type: "extrude" }] // autocasts as new ExtrudeSymbol3DLayer()
          },
          label: "Style for the square wooden table",
          visualVariables: [
            {
              type: "size", // indicates this is a size visual variable
              field: "Height", // height of the feature      
              stops: [
                {
                  value: 0.15, // features meeting this value from height field
                  size: 0.04572 // will be extruded by this height in meters
                },
                {
                  value: 0.20, // features meeting this value from height field
                  size: 0.06096 // will be extruded by this height in meters
                },
                {
                  value: 3.0, // features meeting this value from height field
                  size: 0.9144 // will be extruded by this height in meters
                }
              ]
            },
            {
              type: "color",
              field: "Height",      
              stops: [
                {
                  value: 0.15,
                  color: "black"
                },
                {
                  value: 0.20,
                  color: "#F9E8BA"
                },
                {
                  value: 3.0,
                  color: "black"
                }
              ]
            }
          ]
        };

        // style for the large scanner  
        var scannerRenderer = {
          type: "simple", // autocasts as new SimpleRenderer()
          symbol: {
            type: "polygon-3d", // autocasts as new PolygonSymbol3D()
            symbolLayers: [{ type: "extrude" }] // autocasts as new ExtrudeSymbol3DLayer()
          },
          label: "Style for the large scanner",
          visualVariables: [
            {
              type: "size", // indicates this is a size visual variable
              field: "Height", // height of the feature      
              stops: [
                {
                  value: 0.394397, // features meeting this value from height field
                  size: 0.1202122056 // will be extruded by this height in meters
                },
                {
                  value: 0.565427, // features meeting this value from height field
                  size: 0.1723421496 // will be extruded by this height in meters
                },
                {
                  value: 3.199538, // features meeting this value from height field
                  size: 0.9752191824 // will be extruded by this height in meters
                }
              ]
            },
            {
              type: "color",
              field: "Height",      
              stops: [
                {
                  value: 0,
                  color: "white"
                },
                {
                  value: 0.0,
                  color: "white"
                },
                {
                  value: 3.0,
                  color: "white"
                }
              ]
            }
          ]
        };

        // style for the tall cabinet layer  
         var tallCabRenderer = {
          type: "simple", // autocasts as new SimpleRenderer()
          symbol: {
            type: "polygon-3d", // autocasts as new PolygonSymbol3D()
            symbolLayers: [{
              type: "extrude", // autocasts as new ExtrudeSymbol3DLayer()
              size: 1.32247123861173521, // Height of the extrusion in meters              
              material: { 
                color: "#E4DFD9" 
              },
              edges: {
                  type: "solid",
                  color: "#999",
                  size: 0
                },
            }]
          }
        }

        // style for the office walls layer  
         var wallsRenderer = {
          type: "simple", // autocasts as new SimpleRenderer()
          symbol: {
            type: "polygon-3d", // autocasts as new PolygonSymbol3D()
            symbolLayers: [{
              type: "extrude", // autocasts as new ExtrudeSymbol3DLayer()
              size: 3.048, // Height of the extrusion in meters              
              material: { 
                color: [0, 0, 0, 0] 
              },
              edges: {
                  type: "solid",
                  color: "black",
                  size: .3048
                },
            }]
          }
        }        

        /*// style for the GeoSandBox  
        var boxRenderer = {
          type: "simple", // autocasts as new SimpleRenderer()
          symbol: {
            type: "polygon-3d", // autocasts as new PolygonSymbol3D()
            symbolLayers: [
              { 
              type: "extrude",
              edges: {
                      type: "solid", // autocasts as new SolidEdges3D()
                      color: "#FF0000"
                },
              }
            ] // autocasts as new ExtrudeSymbol3DLayer()
          },
          label: "Style for the geosandbox",
          visualVariables: [
            {
              type: "size", // indicates this is a size visual variable
              field: "Height", // height of the feature      
              stops: [
                {
                  value: 4, // features meeting this value from height field
                  size: 1.2192 // will be extruded by this height in meters
                },
                {
                  value: 9, // features meeting this value from height field
                  size: 2.7432 // will be extruded by this height in meters
                }
              ]
            },
            {
              type: "color",
              field: "Height",      
              stops: [
                {
                  value: 4,
                  color: "#A80000"
                },
                {
                  value: 4,
                  color: "#A80000"
                }
              ]
            }
          ]
        };*/

         // style for the Bookcases  
        var bookRenderer = {
          type: "simple", // autocasts as new SimpleRenderer()
          symbol: {
            type: "polygon-3d", // autocasts as new PolygonSymbol3D()
            symbolLayers: [
              { 
                type: "extrude", 
                edges: {
                        type: "solid", // autocasts as new SolidEdges3D()
                        color: "#FF7F7F"
                },
              }
            ] // autocasts as new ExtrudeSymbol3DLayer()
          },           
          label: "Style for the geosandbox",
          visualVariables: [
            {
              type: "size", // indicates this is a size visual variable
              field: "Height", // height of the feature      
              stops: [
                {
                  value: 3.88923, // features meeting this value from height field
                  size: 1.185437304 // will be extruded by this height in meters
                },
                {
                  value: 6.80037, // features meeting this value from height field
                  size: 2.072752776 // will be extruded by this height in meters
                }
              ]
            },
            {
              type: "color",
              field: "Height",      
              stops: [
                {
                  value: 3.88923,
                  color: "#E60000"
                },
                {
                  value: 6.80037,
                  color: "#E60000"
                }
              ]
            }
          ]
        };

        // style for the tall cabinet layer  
        var screensRenderer = {
          type: "simple", // autocasts as new SimpleRenderer()
          symbol: {
            type: "mesh-3d", // autocasts as new MeshSymbol3D()
            symbolLayers: [{
              type: "fill", // autocasts as new FillSymbol3DLayer()
              material: {
                color: "#001055"
              },
              edges: {
                type: "solid", // autocasts as new SolidEdges3D()
                color: [0, 0, 0, 0.5]
              }
            }]
          }
        }; 

        // style for the grey tables  
        var greyRenderer = {
          type: "simple", // autocasts as new SimpleRenderer()
          symbol: {
            type: "mesh-3d", // autocasts as new MeshSymbol3D()
            symbolLayers: [{
              type: "fill", // autocasts as new FillSymbol3DLayer()
              material: {
                color: "#808080"
              },
              edges: {
                type: "solid", // autocasts as new SolidEdges3D()
                color: [0, 0, 0, 0]
              }
            }]
          }
        }; 

        // style for the small grey table 
        var smallGreyRenderer = {
          type: "simple", // autocasts as new SimpleRenderer()
          symbol: {
            type: "mesh-3d", // autocasts as new MeshSymbol3D()
            symbolLayers: [{
              type: "fill", // autocasts as new FillSymbol3DLayer()
              material: {
                color: "#686868"
              },
              edges: {
                type: "solid", // autocasts as new SolidEdges3D()
                color: "#686868"
              }
            }]
          }
        }; 

        // style for the globe base 
        var globeBaseRenderer = {
          type: "simple", // autocasts as new SimpleRenderer()
          symbol: {
            type: "polygon-3d", // autocasts as new PolygonSymbol3D()
            symbolLayers: [{ type: "extrude" }] // autocasts as new ExtrudeSymbol3DLayer()
          },
          label: "Style for the printer table",
          visualVariables: [
            {
              type: "size", // indicates this is a size visual variable
              field: "Height", // height of the feature      
              stops: [
                {
                  value: 0.3, // features meeting this value from height field
                  size: 0.09144 // will be extruded by this height in meters
                },
                {
                  value: 3.39, // features meeting this value from height field
                  size: 1.033272 // will be extruded by this height in meters
                }
              ]
            },
            {
              type: "color",
              field: "Height",      
              stops: [
                {
                  value: 0.3,
                  color: "#8B6B59"
                },
                {
                  value: 3.39,
                  color: "#8B6B59"
                }
              ]
            }
          ]
        };   

        // style for the globe layer  
        var globeRenderer = {
          type: "simple", // autocasts as new SimpleRenderer()          
          symbol: {
            type: "mesh-3d", // autocasts as new MeshSymbol3D()
            symbolLayers: [{
              type: "fill", // autocasts as new FillSymbol3DLayer()
              material: {
                color: "#54FB00"
              },                         
            }]
          }
        }; 

        // style for the grey table  
        var smallWoodTableRenderer = {
          type: "simple", // autocasts as new SimpleRenderer()
          symbol: {
            type: "polygon-3d", // autocasts as new PolygonSymbol3D()
            symbolLayers: [{ type: "extrude" }] // autocasts as new ExtrudeSymbol3DLayer()
          },
          label: "Style for the small wooden table",
          visualVariables: [
            {
              type: "size", // indicates this is a size visual variable
              field: "Height", // height of the feature      
              stops: [
                {
                  value: 0.426568771089488, // features meeting this value from height field
                  size: 0.13001816142807595678 // will be extruded by this height in meters
                },
                {
                  value: 3.20656877108949, // features meeting this value from height field
                  size: 0.9773621614280765257 // will be extruded by this height in meters
                }
              ]
            },
            {
              type: "color",
              field: "Height",      
              stops: [
                {
                  value: 0.426568771089488,
                  color: "#F9E8BA"
                },
                {
                  value: 3.20656877108949,
                  color: "#828282"
                }
              ]
            }
          ]
        };

        // setup the variable for highlight with no value  
        var highlight = null;  
      
        // ** 3D Map Layers for the Hub ** //
        var cabLayer = new FeatureLayer({
          url:
            "https://services3.arcgis.com/0OPQIK59PJJqLK0A/ArcGIS/rest/services/Cabinets_join/FeatureServer/0",
          renderer: cabRenderer,
          title: "Cabinets",
          outFields: ["*"],     
          popupTemplate: {
            // autocasts as new PopupTemplate()            
            title: "Drawer: {Sheet1__DRAWER_ID} ({Sheet1__DRAWER_TITLE})",
          }    
        });
        // Cabinets base layer
        var baseLayer = new FeatureLayer({
          url:
            "https://services3.arcgis.com/0OPQIK59PJJqLK0A/ArcGIS/rest/services/Cabinets_Base/FeatureServer/0",
          renderer: cabBaseRenderer,
          title: "Cabinets Base",
          outFields: ["*"]          
        });
        // Work Table Layer
        var workTableLayer = new FeatureLayer({
          url:
            "https://services3.arcgis.com/0OPQIK59PJJqLK0A/ArcGIS/rest/services/work_station_table/FeatureServer/0",
          renderer: workTableRenderer,
          title: "Work Table",
          outFields: ["*"],      
          popupTemplate: {
            // autocasts as new PopupTemplate()
            title: "Work Table",
            content: "Work Table",
          }    
        });

        // Tall Cabinet Layer
        var tallCabLayer = new FeatureLayer({
          url:
            "https://services3.arcgis.com/0OPQIK59PJJqLK0A/ArcGIS/rest/services/Tall_Microfiche_Cabinet/FeatureServer/0",
          renderer: workTableRenderer,
          title: "Population living in poverty by county",
          outFields: ["*"],      
          popupTemplate: {
            // autocasts as new PopupTemplate()
            title: "{Sheet1__DRAWER_ID}, {Sheet1__STACK_ID}",
            content: "This is drawer {Sheet1__DRAWER_ID} in Cabinet {Sheet1__CAB_ID} in Stack {Sheet1__STACK_ID}",
          }    
        });

        // Square Wooden Table Layer
        var woodTableLayer = new FeatureLayer({
          url:
            "https://services3.arcgis.com/0OPQIK59PJJqLK0A/ArcGIS/rest/services/Square_Wooden_Table/FeatureServer/0",
          renderer: woodTableRenderer,
          title: "Square Wooden Table",
          outFields: ["*"],      
          popupTemplate: {
            // autocasts as new PopupTemplate()
            title: "Square Wooden Table",
            content: "This is drawer {Sheet1__DRAWER_ID} in Cabinet {Sheet1__CAB_ID} in Stack {Sheet1__STACK_ID}",
          }    
        });

        // Small Grey Table Layer
        var greyTableLayer = new SceneLayer({
          url:
            "https://services3.arcgis.com/0OPQIK59PJJqLK0A/ArcGIS/rest/services/smallgreytable3d/SceneServer/layers/0",
          renderer: smallGreyRenderer,
          title: "Small Grey Table",
          outFields: ["*"], 
          maxScale: 0,
          minScale: 0,     
          popupTemplate: {
            // autocasts as new PopupTemplate()
            title: "Small Grey Table",
            content: "Small Grey Table",
          }    
        });

        // PrinterTable Layer
        var printTableLayer = new SceneLayer({
          url:
            "https://services3.arcgis.com/0OPQIK59PJJqLK0A/ArcGIS/rest/services/printtable3d/SceneServer/layers/0",
          renderer: greyRenderer,
          title: "Print Table",
          outFields: ["*"],    
          maxScale: 0,
          minScale: 0,  
          popupTemplate: {
            // autocasts as new PopupTemplate()
            title: "Print Table",
            content: "Print table",
          }    
        });

        // Scanner Layer
        var scannerLayer = new FeatureLayer({
          url:
            "https://services3.arcgis.com/0OPQIK59PJJqLK0A/ArcGIS/rest/services/Large_Scanner/FeatureServer/0",
          renderer: scannerRenderer,
          title: "Large Scanner",
          outFields: ["*"],   
          maxScale: 0,
          minScale: 0,   
          popupTemplate: {
            // autocasts as new PopupTemplate()
            title: "Large Scanner",
            content: "Large Scanner",
          }    
        });

        // Office Walls Layer
        var wallsLayer = new FeatureLayer({
          url:
            "https://services3.arcgis.com/0OPQIK59PJJqLK0A/ArcGIS/rest/services/Office_Walls/FeatureServer/0",
          renderer: wallsRenderer,
          title: "Office Walls",
          outFields: ["*"],  
          maxScale: 0,
          minScale: 0,    
          popupTemplate: {
            // autocasts as new PopupTemplate()
            title: "Office Walls",
            content: "Office Walls",
          }    
        });

        // Large Grey tables
        var greyTablesLayer = new SceneLayer({
          url:
            "https://services3.arcgis.com/0OPQIK59PJJqLK0A/ArcGIS/rest/services/greytables3D/SceneServer/layers/0",
          renderer: greyRenderer,
          title: "Large Grey Table",
          outFields: ["*"],            
          popupTemplate: {
            // autocasts as new PopupTemplate()
            title: "Large Grey Table",
            content: "Large Grey Table",
          }    
        });       

        /*// geosandbox Layer
        // comment this out might use it later
        var boxLayer = new FeatureLayer({
          url:
            "https://services3.arcgis.com/0OPQIK59PJJqLK0A/ArcGIS/rest/services/geosandbox/FeatureServer/0",
          renderer: boxRenderer,
          title: "Geosandbox",
          outFields: ["*"],      
          popupTemplate: {
            // autocasts as new PopupTemplate()
            title: "Large Table 2",
            content: "Large Table 2",
          }    
        });*/

        // Front Desk Layer
        var frontDeskLayer = new FeatureLayer({
          url:
            "https://services3.arcgis.com/0OPQIK59PJJqLK0A/ArcGIS/rest/services/Front_desk_test/FeatureServer/0",
          renderer: frontDeskRenderer,
          title: "Front Desk",
          outFields: ["*"],      
          popupTemplate: {
            // autocasts as new PopupTemplate()
            title: "Front Desk",
            content: "Front Desk",
          }    
        });

        // Flatscreens Layer
        var screensLayer = new SceneLayer({
          url: "https://services3.arcgis.com/0OPQIK59PJJqLK0A/ArcGIS/rest/services/Flatscreens/SceneServer/layers/0",    
          renderer: screensRenderer,
          title: "Flatscreens",
          outFields: ["*"],      
          popupTemplate: {
            // autocasts as new PopupTemplate()
            title: "Flatscreens",
            content: "Flatscreens",
          }          
        });

        // Globe Base Layer
        var globeBaseLayer = new FeatureLayer({
          url:
            "https://services3.arcgis.com/0OPQIK59PJJqLK0A/ArcGIS/rest/services/globe_base/FeatureServer/0",
          renderer: globeBaseRenderer,
          title: "Globe",
          outFields: ["*"],      
          popupTemplate: {
            // autocasts as new PopupTemplate()
            title: "Globe",
            content: "Globe",
          }    
        });
        
        // Flatscreens Layer
        var globeLayer = new SceneLayer({
          url: "https://services3.arcgis.com/0OPQIK59PJJqLK0A/ArcGIS/rest/services/globe/SceneServer/layers/0",    
          renderer: globeRenderer,
          title: "Globe",
          outFields: ["*"],      
          popupTemplate: {
            // autocasts as new PopupTemplate()
            title: "Globe",
            content: "Globe",
          }          
        });

        // Conference Table Layer
        var confTableLayer = new FeatureLayer({
          url:
            "https://services3.arcgis.com/0OPQIK59PJJqLK0A/ArcGIS/rest/services/conference_table/FeatureServer/0",
          renderer: workTableRenderer,
          title: "Conference Table",
          outFields: ["*"],      
          popupTemplate: {
            // autocasts as new PopupTemplate()
            title: "Conference Table",
            content: "Conference Table",
          }    
        }); 

        // Bookcases Layer
        var bookLayer = new FeatureLayer({
          url:
            "https://services3.arcgis.com/0OPQIK59PJJqLK0A/ArcGIS/rest/services/Bookcases/FeatureServer/0",
          renderer: bookRenderer,
          title: "Bookcases",
          outFields: ["*"],      
          popupTemplate: {
            // autocasts as new PopupTemplate()
            title: "Bookcases",
            content: "Bookcases",
          }    
        }); 

        // Small wooden table Layer
        var smallWoodTableLayer = new FeatureLayer({
          url:
            "https://services3.arcgis.com/0OPQIK59PJJqLK0A/ArcGIS/rest/services/Small_Wooden_Table/FeatureServer/0",
          renderer: smallWoodTableRenderer,
          title: "Small Wooden Table",
          outFields: ["*"],      
          popupTemplate: {
            // autocasts as new PopupTemplate()
            title: "Small Wooden Table",
            content: "Small Wooden Table",
          }    
        });                 

        var map = new Map({
          basemap: "dark-gray-vector",
          layers: [cabLayer, baseLayer, workTableLayer, tallCabLayer, woodTableLayer, greyTableLayer, printTableLayer,
          scannerLayer, wallsLayer, greyTablesLayer, frontDeskLayer, screensLayer,
          globeBaseLayer, globeLayer, confTableLayer, bookLayer, smallWoodTableLayer]
        });

        var view = new SceneView({
          container: "viewDiv",
          highlightOptions: {
            color: [210, 49, 83] // color of the highlight when a feature is selected
          }, 
          map: map,          
          zoom: 21,
          camera: {
            position: {
              latitude: 33.41878190,
              longitude: -111.93419602,
              z: 26.78385
            },
            tilt: 67.13,
            heading: 338.63
          }
        });       

        view.popup.dockOptions = {
          // Disable the dock button so users cannot undock the popup
          buttonEnabled: false,
          // Dock the popup when the size of the view is less than or equal to 600x1000 pixels
          breakpoint: {
            width: 10000,
            height: 10000
          }
        };

        // Creates a  new table to hold our map attributes  
        var table = new Tabulator("#drawers-table", {             
            height: 700,
            responsiveLayout:"collapse",          
            columns:[
                {title:"Title", field:"attributes.Title"},
                {title:"Author", field:"attributes.Author"},
                {title:"Publisher", field:"attributes.Publisher"},
                {title:"Publication Date", field:"attributes.Publication_Date"},
                {title:"Scale", field:"attributes.Scale"},
                {title:"Catalog Item", field:"attributes.Catalog_Link", formatter:"link"},
                {title:"Call Number", field:"attributes.Call_Number"},
                {title:"MMS", field:"attributes.MMS"},                
                {title:"Language", field:"attributes.Language"},
                {title:"Theme", field:"attributes.Theme"},
                {title:"Location", field:"attributes.Geo"},                
                {title:"Drawer ID", field:"attributes.Drawer_ID"},                
            ],  
            // Detect when someone clicks on a row in the table
            rowClick:function(e, row){ 
              view.popup.close();   
              // When the table row is clicked hide the table 
              $('#drawerModal').modal('hide');        
              //e - the click event object
              //row - row component
              // Get the Drawer_ID from the selected row in the table            
              var drawerId = row._row.data.attributes.Drawer_ID;               
              console.log('you clicked a row');         
              var query = cabLayer.createQuery();
              // Query the cabinets layer for the Drawer_ID
              query.where = "Sheet1__DRAWER_ID =" + "'" + drawerId + "'";
              query.returnQueryGeometry = true; 
              query.outFields = ["OBJECTID", "Sheet1__DRAWER_ID", "Sheet1__CAB_ID"];
              cabLayer.queryFeatures(query)
                .then(function(response){
                   // returns a feature set with features containing an OBJECTID
                   var objectID = response.features[0].attributes.OBJECTID;
                   var cabId = response.features[0].attributes.Sheet1__CAB_ID;
                   console.log(response);
                   view.whenLayerView(cabLayer).then(function(layerView) {
                      var queryExtent = new Query({
                        objectIds: [objectID]
                      });
                      cabLayer.queryExtent(queryExtent).then(function(result) {
                        // zoom to the extent of the feature; we use the expand method as we don't want to zoom very close to it
                        view.goTo(result.extent.expand(7), { speedFactor: 0.5 });
                      });
                      
                      // if any, remove the previous highlights
                      if (highlight) {
                        highlight.remove();
                      }
                      // highlight the feature with the returned objectId
                      highlight = layerView.highlight([objectID]);
                      })
                      // open a popup at the drawer location of the selected map
                      view.popup.open({
                        // Set the popup's title to the coordinates of the clicked location
                        title: "The item " + '"' + row._row.data.attributes.Title + '"' + " is located in Drawer " + drawerId + ".",
                        location: response.features[0].geometry.centroid// Set the location of the popup to the clicked location
                      });
                 });           
            },   
        });

        //trigger download of data.xlsx file
        $("#download").click(function(){
            table.download("xlsx", "mapdata.xlsx", {sheetName:"Map Data"});
        });

        view.on("click", function(event) { 
          // if any, remove the previous highlights
          if (highlight) {
            highlight.remove();
          }
          // only include graphics from hurricanesLayer in the hitTest
          const opts = {
            include: cabLayer
          }
          view.hitTest(event, opts).then(function(response) {            
            // check if a feature is returned from the cabLayer
            if (response.results.length) {
              const graphic = response.results[0].graphic;
              // Get the Drawer_ID of the clicked drawer
              var drawerId = graphic.attributes.Sheet1__DRAWER_ID;
              var drawerTitle = graphic.attributes.Sheet1__DRAWER_TITLE; 
              var cabId = graphic.attributes.Sheet1__CAB_ID;
              $('#drawerTitle').html("Drawer " + drawerId + ": " + drawerTitle);
              console.log(drawerId);
              // Call to the ArcGIS REST API to retreive the maps in each drawer
              $.ajax({
                      dataType: 'json',
                      url: 'https://services3.arcgis.com/0OPQIK59PJJqLK0A/ArcGIS/rest/services/maps129/FeatureServer/0/query?where=Drawer_ID+%3D+' + drawerId + '&objectIds=&time=&resultType=none&outFields=*&returnHiddenFields=false&returnIdsOnly=false&returnUniqueIdsOnly=false&returnCountOnly=false&returnDistinctValues=false&cacheHint=false&orderByFields=&groupByFieldsForStatistics=&outStatistics=&having=&resultOffset=&resultRecordCount=&sqlFormat=none&f=pjson',
                      type: "GET",    
                      success: function(data) {
                       if (data.features.length <= 0) {
                         $('#noDataModal').modal('show');
                       } else {
                         // show the cabinet info div
                         $("#drawerTitle").show(); 
                         console.log(data.features);
                         // Get the features from the REST API 
                         var features = data.features;  
                         $('#drawerModal').modal('show');
                         var numResults = data.features.length;
                         cabLayer.popupTemplate = {
                            title: "Drawer: " + drawerId + " (" + drawerTitle + ")",
                            content: "Map count: " + numResults
                         };
                         $('#results').html("Map count: " + numResults + " maps");  
                         // Create a new table with the array of features 
                         table.setData(features);
                         // Show the icon to get the table back
                         $(".esri-icon-table").show();
                       }
                      }
              });   
            }
          });
        });
        // Code for the search bar functions
        $( "#submit" ).click(function() {
          $(".esri-icon-table").show();
          // get the value of the search box
          var searchVal = $( "#search" ).val();
          // get the value of the search type dropdwn
          var typeVal = $( "#searchtype" ).val();
          if (typeVal == 'Keyword') {
            // call to query the REST API using the value of the search
            $.ajax({
                    dataType: 'json',
                    url: 'https://services3.arcgis.com/0OPQIK59PJJqLK0A/ArcGIS/rest/services/maps129/FeatureServer/0/query?where=Title+LIKE+%27%25' + searchVal + '%25%27+OR+Theme+LIKE+%27%25' +searchVal + '%25%27+OR+Geo+LIKE+%27%25' + searchVal +'%25%27+OR+Publication_Date+LIKE+%27%25' + searchVal + '%25%27+OR+Publisher+LIKE+%27%25' + searchVal + '%25%27+OR+Author+LIKE+%27%25' + searchVal + '%25%27+OR+Scale+LIKE+%27%25' + searchVal + '%25%27+OR+Language+LIKE+%27%25' + searchVal + '%25%27&objectIds=&time=&resultType=none&outFields=*&returnHiddenFields=false&returnIdsOnly=false&returnUniqueIdsOnly=false&returnCountOnly=false&returnDistinctValues=false&cacheHint=false&orderByFields=&groupByFieldsForStatistics=&outStatistics=&having=&resultOffset=&resultRecordCount=&sqlFormat=none&f=pjson',
                    type: "GET",    
                    success: function(data) {
                     if (data.features.length == 0) {
                      alert('The search returned no results. Please try different terms.');
                     } else {                     
                       // hide the cabinet info div
                       $("#drawerTitle").hide(); 
                       console.log(data.features);
                       // Get the features from the REST API 
                       var searchRes = data.features;  
                       $('#drawerModal').modal('show'); 
                       // Get the number of results of the search
                       var numResults = data.features.length;    
                       $('#results').html(numResults + " maps found for " + '"' + searchVal + '"');                  
                       // Create a new table with the array of features 
                       table.setData(searchRes);
                      }
                    }
            });  
          } else if (typeVal == 'Call Number') {            
            // call to query the REST API using the value of the search
            $.ajax({
                    dataType: 'json',
                    url: 'https://services3.arcgis.com/0OPQIK59PJJqLK0A/ArcGIS/rest/services/maps129/FeatureServer/0/query?where=Call_Number+LIKE+%27%25' + searchVal + '%25%27&objectIds=&time=&resultType=none&outFields=*&returnHiddenFields=false&returnIdsOnly=false&returnUniqueIdsOnly=false&returnCountOnly=false&returnDistinctValues=false&cacheHint=false&orderByFields=&groupByFieldsForStatistics=&outStatistics=&having=&resultOffset=&resultRecordCount=&sqlFormat=none&f=pjson',
                    type: "GET",    
                    success: function(data) {
                      if (data.features.length == 0) {
                        alert('The search returned no results. Please try different terms.');
                      } else {
                       // hide the cabinet info div
                       $("#drawerTitle").hide();  
                       console.log(data.features);
                       // Get the features from the REST API 
                       var searchRes = data.features;  
                       $('#drawerModal').modal('show');  
                       var numResults = data.features.length;    
                       $('#results').html(numResults + " maps found for " + '"' + searchVal + '"');
                       // Create a new table with the array of features 
                       table.setData(searchRes);
                      }
                    }
            });  
          }   
        });

        // Code for the search dropdown menu
        $("#searchtype").change(function () {
          // Get the value of the selected item
          var value = this.value;
          if (value == 'Keyword') {
            $('#search').attr("placeholder", "Search maps...");
          } else if (value == 'Call Number') {
             $('#search').attr("placeholder", "Enter Call # (ie: G3300 1818 .H4 REF)");            
          } else if (value == 'Date') {
            //$('#yearModal').modal('show');
            $('#search').attr("placeholder", "Enter Year Range (Format: YYYY-YYYY)"); 
          } else if (value == 'Location') {            
            $('#search').attr("placeholder", "Search location (ie: Arizona)"); 
          } else if (value == 'Theme') {            
            $('#search').attr("placeholder", "Search by theme (ie: Land use)"); 
          } else if (value == 'Advanced') {
             
            $('#advancedModal').modal('show');
          }
        });

         // Code to populate the Advanced Search Dropdown Menus
         // Populate the Theme dropdown item
         $.ajax({
                  dataType: 'json',
                  url: 'https://services3.arcgis.com/0OPQIK59PJJqLK0A/ArcGIS/rest/services/maps129/FeatureServer/0/query?where=1%3D1&objectIds=&time=&resultType=none&outFields=Theme&returnHiddenFields=false&returnIdsOnly=false&returnUniqueIdsOnly=false&returnCountOnly=false&returnDistinctValues=true&cacheHint=false&orderByFields=&groupByFieldsForStatistics=&outStatistics=&having=&resultOffset=&resultRecordCount=&sqlFormat=none&f=pjson',
                  type: "GET",    
                  success: function(data) {
                    var themeSelect = document.getElementById('theme');
                    var features = data.features;    
                    Object.values(features).forEach(function(value) {                                         
                      var themeVal = value.attributes.Theme;
                      var themeOpt = document.createElement("option");
                      themeOpt.textContent = themeVal;
                      themeOpt.value = themeVal;
                      themeSelect.appendChild(themeOpt);                                         
                    });                     
                  }
          }); 

          // Populate the Location dropdown item
         $.ajax({
                  dataType: 'json',
                  url: 'https://services3.arcgis.com/0OPQIK59PJJqLK0A/ArcGIS/rest/services/maps129/FeatureServer/0/query?where=1%3D1&objectIds=&time=&resultType=none&outFields=Geo&returnHiddenFields=false&returnIdsOnly=false&returnUniqueIdsOnly=false&returnCountOnly=false&returnDistinctValues=true&cacheHint=false&orderByFields=&groupByFieldsForStatistics=&outStatistics=&having=&resultOffset=&resultRecordCount=&sqlFormat=none&f=pjson',
                  type: "GET",    
                  success: function(data) {
                    var geoSelect = document.getElementById('location');
                    var features = data.features;    
                    Object.values(features).forEach(function(value) {                                          
                      var geoVal = value.attributes.Geo;
                      var geoOpt = document.createElement("option");
                      geoOpt.textContent = geoVal;
                      geoOpt.value = geoVal;
                      geoSelect.appendChild(geoOpt);                                         
                    });                     
                  }
          });   
         // Populate the Language dropdown item
         $.ajax({
                  dataType: 'json',
                  url: 'https://services3.arcgis.com/0OPQIK59PJJqLK0A/ArcGIS/rest/services/maps129/FeatureServer/0/query?where=1%3D1&objectIds=&time=&resultType=none&outFields=Language&returnHiddenFields=false&returnIdsOnly=false&returnUniqueIdsOnly=false&returnCountOnly=false&returnDistinctValues=true&cacheHint=false&orderByFields=&groupByFieldsForStatistics=&outStatistics=&having=&resultOffset=&resultRecordCount=&sqlFormat=none&f=pjson',
                  type: "GET",    
                  success: function(data) {
                    var langSelect = document.getElementById('language');
                    var features = data.features;    
                    Object.values(features).forEach(function(value) {                                          
                      var langVal = value.attributes.Language;
                      var langOpt = document.createElement("option");
                      langOpt.textContent = langVal;
                      langOpt.value = langVal;
                      langSelect.appendChild(langOpt);                                         
                    });                     
                  }
          });         
        // Custom Buttons
        // Add element for the table button using Esri widgets
        var tableBtn = document.createElement('div');
        tableBtn.className = "esri-icon-table esri-widget--button esri-widget esri-interactive";
        tableBtn.addEventListener('click', function(event){
          // Toggle table
          $('#drawerModal').modal('show');
        })

        // Add the button to the UI
        view.ui.add(tableBtn, "top-left"); 
        // Hide the button by default  
        $(".esri-icon-table").hide();
        // If the advanced search is closed, change the search value back to Keyword
        $('#advancedModal').on('hidden.bs.modal', function (e) {
          $('#searchtype')
            .val('Keyword')
            .trigger('change');
        })

        // when someone clicks the advanced search submit button        
        $("#advancedBtn").click(function(){
          // create an empty array for search strings
          var searchStrings = [];
          // get the values of the boxes from the advacned search modal
          var themeVal = $("#theme").val();
          var langVal = $('#language').val();
          var geoVal = $("#location").val();
          var authorVal = $('#author').val();
          var pubVal = $('#publisher').val();
          var startYearVal = $("#startYear").val();
          var endYearVal = $("#endYear").val();
          console.log(themeVal, langVal, geoVal, authorVal, pubVal, startYearVal, endYearVal);
          // if the search boxes are blank print error message
          if (themeVal == 'Select Theme' && langVal == 'Select Language' && geoVal == 'Select Location' && authorVal == "" 
            && pubVal == "" && startYearVal == "" && endYearVal == "") {
            alert('Please select or enter a value for at least one search field.')
          } else if (startYearVal != "" && endYearVal == "" || startYearVal == "" && endYearVal != "") {
            alert('Please enter a value for both Start Year and End Year');
          } else {
            if (themeVal != 'Select Theme') {
              if (searchStrings.length > 0) {
                var themeString = "AND Theme = " + "'" + themeVal + "'"; 
                searchStrings.push(themeString);
              } else {
                var themeString = "Theme = " + "'" + themeVal + "'"; 
                searchStrings.push(themeString);
              }            
            }
            if (langVal != 'Select Language') {
              if (searchStrings.length > 0) {
                var langString = "AND Language = " + "'" + langVal + "'"; 
                searchStrings.push(langString);
              } else {
                var langString = "Language = " + "'" + langVal + "'"; 
                searchStrings.push(langString);
              }            
            }
            if (geoVal != 'Select Location') {
              if (searchStrings.length > 0) {
                var geoString = "AND Geo = " + "'" + geoVal + "'";
                searchStrings.push(geoString);
              } else {
               var geoString = "Geo = " + "'" + geoVal + "'";
               searchStrings.push(geoString); 
              }            
            }
            if (authorVal != "") {
              if (searchStrings.length > 0) {
                var authorString = "AND Author LIKE " + "'%" + authorVal + "%'"; 
                searchStrings.push(authorString);
              } else {
                var authorString = "Author LIKE " + "'%" + authorVal + "%'"; 
                searchStrings.push(authorString);
              }            
            }
            if (pubVal != "") {
              if (searchStrings.length > 0) {
                var pubString = "AND Publisher LIKE " + "'%" + pubVal + "%'"; 
                searchStrings.push(pubString);
              } else {
                var pubString = "Publisher LIKE " + "'%" + pubVal + "%'"; 
                searchStrings.push(pubString);
              }            
            }
            if (startYearVal != "" && endYearVal != "" ) {
              if (searchStrings.length > 0) {
                var dateString = "AND Publication_Date BETWEEN " + "'" + startYearVal + "' AND " + "'" + endYearVal + "'";
                searchStrings.push(dateString);
              } else {
                var dateString = "Publication_Date BETWEEN " + "'" + startYearVal + "' AND " + "'" + endYearVal + "'";
                searchStrings.push(dateString);
              }            
            }
            // join the search strings from the array
            var queryString = searchStrings.join(" ");
            console.log(queryString);

            // call to the rest api with the search string
            $.ajax({
                    dataType: 'json',
                    url: 'https://services3.arcgis.com/0OPQIK59PJJqLK0A/ArcGIS/rest/services/maps129/FeatureServer/0/query?where=' + queryString + '&objectIds=&time=&resultType=none&outFields=*&returnHiddenFields=false&returnIdsOnly=false&returnUniqueIdsOnly=false&returnCountOnly=false&returnDistinctValues=false&cacheHint=false&orderByFields=&groupByFieldsForStatistics=&outStatistics=&having=&resultOffset=&resultRecordCount=&sqlFormat=none&f=pjson',
                    type: "GET",    
                    success: function(data) {
                      console.log(data);
                      var advancedRes = data.features;
                      table.setData(advancedRes);  
                      var numResults = advancedRes.length;    
                      $('#results').html(numResults + " maps found for advanced search");   
                      $("#drawerTitle").hide();                                                    
                      }                     
                });   
            $('#drawerModal').modal('show');
            $('#advancedModal').modal('hide');    
          }      
        });

        // Actions for the popup
var tableViewerAction = {
  // This text is displayed as a tooltip
  title: "View table",
  // The ID by which to reference the action in the event handler
  id: "view-table",
  // Sets the icon font used to style the action button
  className: "esri-icon-table"
};
// Adds the custom action to the popup.
view.popup.actions.push(tableViewerAction);

// This event fires for each click on any action
view.popup.on("trigger-action", function(event){
  // If the view image action is clicked, fire the viewImage() function
  if(event.action.id === "view-table"){
    viewImage();
  }
});

        // check if the years are valid numbers
        $('#startYear').change(function() {
          $(this).val($(this).val().match(/\d*\.?\d+/));
        });

        $('#endYear').change(function() {
          $(this).val($(this).val().match(/\d*\.?\d+/));
        });
        
      }); // end of map JS
    </script>
  </head>

  <body>
    <nav class="navbar navbar-light bg-light">
  <a class="navbar-brand" href="https://geospatial.asu.edu/">
    <img src="asulogo.png" width="50" height="50" class="d-inline-block align-top" alt="">
      &nbsp;Map and Geospatial Hub | Collections & Resources 3D Explorer
  </a>
</nav>
<div class='sidebar'>
  <div class='heading'>
    <h1>Search Result</h1>
  </div>
  <div id="drawers-table"></div>
</div>
    <div id="viewDiv"></div>
    <!-- Image and text -->

    <div class="modal" id="drawerModal" tabindex="-1" role="dialog">
    <div class="modal-dialog" role="document" style="position:absolute;bottom:0;margin:0;width:100%; max-width: none;">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title"><div id="drawerTitle"></div><div id="results"></div></h5>
          <button type="button" class="btn btn-outline-success" id="download"><i class="fa fa-download" aria-hidden="true"></i> </button>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <div id="drawers-table"></div>
        </div>        
      </div>
    </div>
</div>

<div class="modal" tabindex="-1" role="dialog" id="advancedModal">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Advanced Search</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <p>Complete fields for at least one criteria. Fields can be left blank.</p>
        <form>
   <div class="form-row">    
    <div class="form-group col-md-6">
      <label for="theme">Theme</label>
      <select id="theme" class="form-control">
        <option selected>Select Theme</option>        
      </select>
    </div> 
    <div class="form-group col-md-6">
      <label for="language">Language</label>
      <select id="language" class="form-control">
        <option selected>Select Language</option>        
      </select>
    </div>
   </div>
  <div class="form-row">  
    <div class="form-group col-md-12">  
     <label for="location">Location</label>
      <select id="location" class="form-control">
        <option selected>Select Location</option>        
      </select>
    </div>  
  </div>          
  <div class="form-row">  
    <div class="form-group col-md-6">  
      <label for="author">Author</label>
      <input type="text" class="form-control" id="author" placeholder="Author">
    </div>      
    <div class="form-group col-md-6">
      <label for="publisher">Publisher</label>
      <input type="text" class="form-control" id="publisher" placeholder="Publisher">
    </div>      
  </div>                
  <div class="form-row">
    <div class="form-group col-md-6">
      <label for="startYear">Start Year</label>
      <input type="text" class="form-control" id="startYear" placeholder="Start Year">
    </div>
    <div class="form-group col-md-6">
      <label for="endYear">End Year</label>
      <input type="text" class="form-control" id="endYear" placeholder="End Year">
    </div>
    <p>*year format should be YYYY (ie: 1850)</p>
  </div>  
</form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-primary" id="advancedBtn">Search</button>
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>

<div class="modal" tabindex="-1" role="dialog" id="noDataModal">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Drawer Missing Data</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <p>Opps. It looks like we don't have any data available at the moment for this drawer. We are working hard to inventory our maps.
        Please check back soon or visit the Map and Geospatial Hub to view our map collections.</p>        
      </div>
      <div class="modal-footer">        
        <button type="button" class="btn btn-secondary" data-dismiss="modal" id="close">Close</button>
      </div>
    </div>
  </div>
</div>
<select class="form-control" id="searchtype">
  <option>Keyword</option>
  <option>Call Number</option>  
  <option>Advanced</option>
</select>
<div class="container justify-content-center">
    <div class="row">
        <div class="col-md-8">
            <div class="input-group mb-3"> <input type="text" class="form-control input-text" placeholder="Search maps..." aria-label="Title Search" id="search" aria-describedby="basic-addon2">
                <div class="input-group-append"> <button class="btn btn-outline-warning btn-lg" type="button" id="submit"><i class="fa fa-search"></i></button> </div>
            </div>
        </div>
    </div>
</div>

  </body>
</html>